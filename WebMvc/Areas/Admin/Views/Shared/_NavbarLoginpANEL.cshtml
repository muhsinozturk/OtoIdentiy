@using System.Security.Claims

@if (User.Identity!.IsAuthenticated)
{
    <li class="nav-item dropdown">
        <a class="nav-link dropdown-toggle" href="#" role="button"
           data-bs-toggle="dropdown" aria-expanded="false">
            <i class="bi bi-person-circle me-1"></i> @User.Identity.Name
        </a>
        <ul class="dropdown-menu dropdown-menu-end">

            <!-- Kullanıcı işlemleri (Area dışı) -->
            <li>
                <a class="dropdown-item" asp-area="" asp-controller="Member" asp-action="Index">Profil</a>
            </li>
            <li>
                <a class="dropdown-item" asp-area="" asp-controller="Member" asp-action="PasswordChange">Şifre Değiştir</a>
            </li>
            <li>
                <a class="dropdown-item" asp-area="" asp-controller="Member" asp-action="UserEdit" asp-route-returnurl="/Admin/Home/Index">Kullanıcı Güncelle</a>
            </li>
            <li>
                <a class="dropdown-item" asp-area="" asp-controller="Member" asp-action="Claims" asp-route-returnurl="/Admin/Home/Index">Claims</a>
            </li>

            <li><hr class="dropdown-divider" /></li>

            <!-- Çıkış (Area dışı) -->
            <li>
                <a class="dropdown-item" asp-area="" asp-controller="Member" asp-action="Logout" asp-route-returnurl="/Admin/Home/Index">
                    <i class="bi bi-box-arrow-right me-1"></i> Çıkış Yap
                </a>
            </li>

            <!-- Admin Panel bağlantısı -->
            @if (User.HasClaim(x => x.Type == ClaimTypes.Role && x.Value == "Admin"))
            {
                <li><hr class="dropdown-divider" /></li>
                <li>
                    <a class="dropdown-item" asp-area="Admin" asp-controller="Home" asp-action="Index">
                        <i class="bi bi-speedometer2 me-1"></i> Yönetim Paneli
                    </a>
                </li>
            }
        </ul>
    </li>
}
else
{
    <li class="nav-item">
        <a class="btn btn-outline-success me-2" asp-area="" asp-controller="Home" asp-action="SignUp">
            Üye Kayıt
        </a>
        <a class="btn btn-outline-success" asp-area="" asp-controller="Home" asp-action="SignIn">
            Üye Giriş
        </a>
    </li>
}
